<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogsDX Live Demo</title>
    <style>
        body {
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            background-color: #1e1e1e;
            color: #d4d4d4;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: #e0e0e0;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .demo-section {
            margin-bottom: 40px;
            background-color: #252526;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        
        .demo-title {
            font-size: 1.3em;
            color: #61dafb;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .demo-description {
            color: #999;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
        
        .log-output {
            background-color: #1e1e1e;
            border: 1px solid #333;
            border-radius: 4px;
            padding: 15px;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.8;
            font-family: 'Courier New', 'Courier', monospace;
        }
        
        .log-output .log-line {
            margin: 5px 0;
            white-space: pre-wrap;
        }
        
        .divider {
            border-top: 1px solid #444;
            margin: 40px 0;
        }
        
        .info-box {
            background-color: #2d2d30;
            border-left: 4px solid #61dafb;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        button {
            background-color: #007acc;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }
        
        button:hover {
            background-color: #005a9e;
        }
        
        button:active {
            background-color: #004578;
        }
        
        /* Let LogsDX handle the theme-specific styling */
        #hacker-logs {
            background-color: #000000;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® LogsDX Live Browser Demo</h1>
        
        <div class="demo-section">
            <div class="demo-title">
                <span>üì°</span>
                <span>API Logs Theme</span>
            </div>
            <div class="demo-description">
                Watch how HTTP methods, status codes, URLs, and response times are styled
            </div>
            <div class="controls">
                <button onclick="runApiDemo()">Run Demo</button>
                <button onclick="clearApiLogs()">Clear</button>
            </div>
            <div class="log-output" id="api-logs"></div>
        </div>
        
        <div class="divider"></div>
        
        <div class="demo-section">
            <div class="demo-title">
                <span>üíª</span>
                <span>Terminal Hacker Theme</span>
            </div>
            <div class="demo-description">
                Matrix-style green theme with system messages
            </div>
            <div class="controls">
                <button onclick="runHackerDemo()">Run Demo</button>
                <button onclick="clearHackerLogs()">Clear</button>
            </div>
            <div class="log-output" id="hacker-logs"></div>
        </div>
        
        <div class="info-box">
            <strong>‚ú® Interactive Demo:</strong> Click the "Run Demo" buttons to see LogsDX in action. 
            The themes automatically style logs based on patterns like HTTP methods, status codes, 
            IP addresses, and custom keywords.
        </div>
        
        <div class="info-box" style="margin-top: 30px; border-left-color: #f0ad4e;">
            <strong>üìù Note:</strong> This demo uses the actual LogsDX library with ES6 modules. 
            Serve this file through a web server (e.g., <code>python -m http.server</code> or <code>npx serve</code>).
        </div>
    </div>

    <script type="module">
        import { LogsDX } from './dist/index.js';
        import { createTheme, createSimpleTheme } from './dist/themes/builder.js';
        
        // Create the API logs theme
        const apiLogsTheme = createTheme({
            name: "api-logs",
            description: "Theme optimized for API request/response logs",
            colors: {
                primary: "#007acc",
                secondary: "#28a745",
                accent: "#ffc107",
                error: "#dc3545",
                warning: "#fd7e14",
                info: "#17a2b8",
                success: "#28a745",
                debug: "#6f42c1",
                text: "#212529",
                muted: "#6c757d",
            },
            presets: ["logLevels", "numbers", "dates"],
            customWords: {
                "GET": "primary",
                "POST": "info", 
                "PUT": "warning",
                "DELETE": "error",
                "200": { color: "success", styleCodes: ["bold"] },
                "201": { color: "success", styleCodes: ["bold"] },
                "400": { color: "warning", styleCodes: ["bold"] },
                "401": { color: "error", styleCodes: ["bold"] },
                "404": { color: "warning", styleCodes: ["bold"] },
                "500": { color: "error", styleCodes: ["bold", "underline"] },
            },
            customPatterns: [
                {
                    name: "url-path",
                    pattern: "/[a-zA-Z0-9/_-]+",
                    color: "secondary",
                    style: ["italic"]
                },
                {
                    name: "ip-address", 
                    pattern: "\\b(?:[0-9]{1,3}\\.){3}[0-9]{1,3}\\b",
                    color: "info",
                    style: ["bold"]
                },
                {
                    name: "response-time",
                    pattern: "\\d+ms",
                    color: "accent",
                }
            ]
        });
        
        // Terminal hacker theme
        const hackerTheme = createSimpleTheme("terminal-hacker", {
            primary: "#00ff00",
            secondary: "#00cc00",
            accent: "#ffffff",
            error: "#ff0000",
            warning: "#ffff00",
            info: "#00ffff",
            success: "#00ff00",
            debug: "#00aa00",
            text: "#00ff00",
            muted: "#008800",
        }, {
            customWords: {
                "SYSTEM": { color: "error", styleCodes: ["bold", "underline"] },
                "ACCESS": { color: "success", styleCodes: ["bold"] },
                "DENIED": { color: "error", styleCodes: ["bold"] },
                "GRANTED": { color: "success", styleCodes: ["bold"] },
                "BREACH": { color: "error", styleCodes: ["bold"] },
                "SECURE": { color: "info", styleCodes: ["bold"] },
            },
            customPatterns: [
                {
                    name: "ip-address",
                    pattern: "\\b(?:[0-9]{1,3}\\.){3}[0-9]{1,3}\\b",
                    color: "accent",
                    style: ["bold"]
                },
                {
                    name: "hex-codes",
                    pattern: "0x[a-fA-F0-9]+",
                    color: "warning",
                    style: ["italic"]
                }
            ]
        });
        
        // Initialize LogsDX instances with HTML output
        const apiDX = LogsDX.getInstance({ 
            theme: apiLogsTheme, 
            outputFormat: "html" 
        });
        
        const hackerDX = LogsDX.getInstance({ 
            theme: hackerTheme,
            outputFormat: "html" 
        });
        
        // API logs data
        const apiLogs = [
            "2024-01-15T10:30:42.123Z [INFO] GET /api/users/123 200 45ms",
            "2024-01-15T10:30:43.456Z [ERROR] POST /api/auth/login 401 234ms - Authentication failed",
            "2024-01-15T10:30:44.789Z [WARN] DELETE /api/posts/456 429 12ms - Rate limit exceeded",
            "2024-01-15T10:30:45.012Z [DEBUG] Processing request from 192.168.1.100",
            "2024-01-15T10:30:46.234Z [ERROR] PUT /api/users/789 500 1230ms - Internal server error"
        ];
        
        // Hacker logs data
        const hackerLogs = [
            "SYSTEM ACCESS GRANTED for user:admin123",
            "SYSTEM BREACH DENIED from 203.0.113.42",
            "[WARN] Anomaly detected in sector 0xff00aa",
            "SYSTEM ACCESS DENIED for user:guest456",
            "[INFO] SECURE connection established"
        ];
        
        // API Demo functions
        window.runApiDemo = function() {
            const container = document.getElementById('api-logs');
            container.innerHTML = '';
            
            apiLogs.forEach((log, index) => {
                setTimeout(() => {
                    const logLine = document.createElement('div');
                    logLine.className = 'log-line';
                    logLine.innerHTML = apiDX.processLine(log);
                    container.appendChild(logLine);
                }, index * 300);
            });
        }
        
        window.clearApiLogs = function() {
            document.getElementById('api-logs').innerHTML = '';
        }
        
        // Hacker Demo functions
        window.runHackerDemo = function() {
            const container = document.getElementById('hacker-logs');
            container.innerHTML = '';
            
            hackerLogs.forEach((log, index) => {
                setTimeout(() => {
                    const logLine = document.createElement('div');
                    logLine.className = 'log-line';
                    logLine.innerHTML = hackerDX.processLine(log);
                    container.appendChild(logLine);
                }, index * 300);
            });
        }
        
        window.clearHackerLogs = function() {
            document.getElementById('hacker-logs').innerHTML = '';
        }
        
        // Auto-run demos on load
        window.addEventListener('load', () => {
            setTimeout(() => {
                runApiDemo();
                setTimeout(runHackerDemo, 2000);
            }, 500);
        });
    </script>
</body>
</html>